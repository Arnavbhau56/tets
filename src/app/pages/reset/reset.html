<div class="tracks-container">
  <app-interactive-grid 
    [width]="80" 
    [height]="80" 
    [squares]="[25, 15]" 
    className=""
    squaresClassName=""
  ></app-interactive-grid>
  <div class="heading">
    <h1>Reset Password</h1>
  </div>
  <div class="login-card">
    <form class="login-form" (ngSubmit)="otpSent ? resetPassword() : sendOtp()" #resetForm="ngForm">
      <div class="input-group input-row">
        <div class="input-col">
          <label for="email">Email ID</label>
          <input type="email" id="email" name="email" [(ngModel)]="email" required autocomplete="email" [readonly]="otpSent" />
        </div>
        <button class="btn login-btn send-otp-btn" type="button" (click)="showResend ? resendOtp() : sendOtp()" [disabled]="otpSent && !showResend">
          <ng-container *ngIf="otpSent">
            <ng-container *ngIf="!showResend">Wait {{ timer }}s</ng-container>
            <ng-container *ngIf="showResend">Resend OTP</ng-container>
          </ng-container>
          <ng-container *ngIf="!otpSent">Send OTP</ng-container>
        </button>
      </div>
      <div *ngIf="otpSent">
        <div class="input-group">
          <label for="otp">OTP</label>
          <input type="text" id="otp" name="otp" [(ngModel)]="otp" required />
        </div>
        <div class="input-group">
          <label for="newPassword">New Password</label>
          <input type="password" id="newPassword" name="newPassword" [(ngModel)]="newPassword" required />
        </div>
        <div class="input-group">
          <label for="confirmPassword">Confirm Password</label>
          <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword" required />
        </div>
        <button class="btn login-btn" type="submit">Reset Password</button>
      </div>
    </form>
  </div>
</div>
