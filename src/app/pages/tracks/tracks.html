<div class="tracks-container">
  <div class="heading">
    <h1>TRACKS</h1>
  </div>

  <div *ngIf="loading" class="loading">Loading tracks...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div class="cards" *ngIf="!loading && !error">
    <div class="card" *ngFor="let track of tracks">
      <div class="card-title">{{ track.title }}</div>
      <div class="image-placeholder">
        <img [src]="track.image" [alt]="track.title" class="track-image" draggable="false"/>
      </div>
      <div class="company-name">{{ track.sponsor }}</div>
      <div class="prize-pool">PRIZE POOL: {{ track.cash }}</div>
      <p class="info">{{ track.info }}</p>
      <div class="know-more-container">
        <button (click)="showPopup(track)" class="know-more">Know More</button>
      </div>
    </div>
  </div>

  <div class="popup-overlay" *ngIf="isPopupVisible" (click)="hidePopup()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <button class="close-button" (click)="hidePopup()">Ã—</button>
      <div *ngIf="selectedTrack">
        <h2 style="margin-top:0;">{{ selectedTrack.title }}</h2>
        <div [innerHTML]="selectedTrack.eligibility"></div>
        <button class="register-btn" style="margin-top: 2em; width: 100%;" (click)="goToRegister()">Register</button>
      </div>
    </div>
  </div>
</div>
